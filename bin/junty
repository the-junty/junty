#!/usr/bin/env php

<?php
require 'vendor/autoload.php';

use Junty\RunnerInterface;
use Junty\Console\Command\RunCommand;
use Symfony\Component\Console\Application;

if (!file_exists($runnerPath = 'juntyfile.php')) {
    throw new \Exception('\'juntyfile.php\' not found.');
}

$runner = require $runnerPath;

if (!$runner instanceof RunnerInterface) {
    throw new \Exception('\'juntyfile.php\' must return a RunnerInterface instance.');
}

$app = new Application();
$app->add(new RunCommand($runner));
$app->run();